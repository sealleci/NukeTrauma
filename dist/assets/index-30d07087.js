import{j as e,I as B,S as Ie,M as G}from"./ui-61263ce1.js";import{c as Ne,d as H,r as s,a as Ee}from"./react-9f50a353.js";import{w as ke}from"./map-50aafcb0.js";import{u as De,g as z,i as Te,r as Pe,a as Oe,b as Ue,c as He,d as ze}from"./echart-f39c6b45.js";import{u as Be,d as Fe}from"./lang-be59385c.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const g of c)if(g.type==="childList")for(const i of g.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function a(c){const g={};return c.integrity&&(g.integrity=c.integrity),c.referrerPolicy&&(g.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?g.credentials="include":c.crossOrigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function l(c){if(c.ep)return;c.ep=!0;const g=a(c);fetch(c.href,g)}})();var K={},te=Ne;K.createRoot=te.createRoot,K.hydrateRoot=te.hydrateRoot;const T=H()(r=>({language:"zh_cn",uiTranslation:null,dialogue:null,setLanguage:t=>r(()=>({language:t})),setUiTranslation:t=>r(()=>({uiTranslation:t})),setDialogue:t=>r(()=>({dialogue:t}))})),Z=H()(r=>({isSmallScreen:!1,setIsSmallScreen:t=>r(()=>({isSmallScreen:t}))})),X=H()(r=>({type:"neco_arc",headImage:"",setCharacter:(t,a)=>r(()=>({type:t,headImage:a}))})),P=H()((r,t)=>({regionList:[],geoIndex:0,finalRegionList:[],setRegionList:a=>r(()=>({regionList:a})),getRegionList:()=>t().regionList,updateFinalRegionList:()=>r(()=>({finalRegionList:t().regionList})),clearFinalRegionList:()=>r(()=>({finalRegionList:[]}))})),k=H()(r=>({launchSignal:!1,cancelSignal:!1,relocateSignal:!1,setLaunchSignal:t=>r(()=>({launchSignal:t})),setCancelSignal:t=>r(()=>({cancelSignal:t})),setRelocateSignal:t=>r(()=>({relocateSignal:t}))}));function Q({text:r}){return e.jsx("div",{className:"console_label",children:r})}const se=""+new URL("cancel-ac8fdd1a.svg",import.meta.url).href,ae=""+new URL("launch-e6206def.svg",import.meta.url).href;function oe({isWithLabel:r,text:t=""}){const a=k(c=>c.setCancelSignal);function l(){a(!0)}return e.jsxs("div",{className:"launch_cancel_btn launch_btn",onClick:l,children:[e.jsx("div",{className:"launch_btn__circle",children:e.jsx("div",{children:e.jsx("img",{src:se,alt:"cancel",draggable:!1})})}),r&&e.jsx(Q,{text:t})]})}function ce({isWithLabel:r,text:t=""}){const a=k(i=>i.setLaunchSignal),l=P(i=>i.regionList),c=P(i=>i.updateFinalRegionList);function g(){c(),l.length!==0&&a(!0)}return e.jsxs("div",{className:"launch_confirm_btn launch_btn",onClick:g,children:[e.jsx("div",{className:"launch_btn__circle",children:e.jsx("div",{children:e.jsx("img",{src:ae,alt:"launch",draggable:!1})})}),r&&e.jsx(Q,{text:t})]})}const E=H()(r=>({prevCharacter:"neco_arc",prevRegion:"greeting",prevSubNumeric:"",prevLanguage:"zh_cn",curSentence:"",setPrevCharacter:t=>r({prevCharacter:t}),setPrevRegion:t=>r({prevRegion:t}),setPrevSubNumeric:t=>r({prevSubNumeric:t}),setPrevLanguage:t=>r({prevLanguage:t}),setCurSentence:t=>r(()=>({curSentence:t}))})),ie=H()(r=>({isSelectOpen:!1,setIsSelectOpen:t=>r(()=>({isSelectOpen:t}))}));function ne(r){const t=Array.from(r);for(let a=t.length-1;a>0;a-=1){const l=Math.floor(Math.random()*(a+1));[t[a],t[l]]=[t[l],t[a]]}return t}function _(r,t){return Math.floor(Math.random()*(t-r+1)+r)}function le(){const r=s.useRef(null),t=T(u=>u.dialogue),a=s.useRef(!0),l=E(u=>u.prevCharacter),c=E(u=>u.prevRegion),g=E(u=>u.prevSubNumeric),i=E(u=>u.prevLanguage),d=E(u=>u.curSentence),S=ie(u=>u.isSelectOpen),v=Z(u=>u.isSmallScreen),h=E(u=>u.setPrevCharacter),x=E(u=>u.setPrevRegion),C=E(u=>u.setPrevSubNumeric),m=E(u=>u.setPrevLanguage),b=E(u=>u.setCurSentence),w=X(u=>u.type),N=P(u=>u.finalRegionList),y=T(u=>u.language),M=P(u=>u.clearFinalRegionList);function F(){r.current&&r.current.classList.toggle("dialogue_bubble--invisible")}const R=s.useCallback((u,I,O,U)=>{if(!t)return"";const D=t[u];if(!D)return"";let n="";for(;I.length>0;){if(I=ne(I),D[I[0]]){n=I[0];break}I.shift()}D[n]||(n="general");const o=D[n];let p="";if(O===""){const L=ne(Object.keys(o));if(L.length<=0)return"";p=L[0]}else p=O;const f=o[p];return!f||!f[U]?"":(x(n),C(p),f[U])},[t,x,C]);return s.useEffect(()=>{!a.current||!t||(b(R(l,[c],g,i)),a.current=!1)},[t,l,c,g,i,b,R]),s.useEffect(()=>{w!==l&&(b(R(w,["greeting"],"",i)),h(w))},[w,l,i,b,R,h]),s.useEffect(()=>{N.length<=0||(b(R(l,N,"",i)),M())},[N,l,i,b,R,M]),s.useEffect(()=>{y!==i&&(b(R(l,[c],g,y)),m(y))},[y,l,c,g,i,b,R,m]),e.jsxs("div",{className:"dialogue_bubble",ref:r,children:[e.jsxs("div",{className:"dialogue_bubble__switch",onClick:F,children:[e.jsx(B,{children:"visibility"}),e.jsx(B,{children:"forward"}),e.jsx(B,{children:"visibility_off"})]}),e.jsx("div",{className:"dialogue_bubble__content"+(S&&!v?" dialogue_bubble__content--shrink":""),children:e.jsx("span",{children:d})})]})}const ue=s.memo(()=>{const r=T(i=>i.language),t=T(i=>i.setLanguage),a=ie(i=>i.setIsSelectOpen),l=s.useCallback(i=>{t(i.target.value)},[t]),c=s.useCallback(()=>{a(!0)},[a]),g=s.useCallback(()=>{a(!1)},[a]);return e.jsxs("div",{className:"language_select",children:[e.jsx(B,{children:"translate"}),e.jsxs(Ie,{value:r,onChange:l,onOpen:c,onClose:g,children:[e.jsx(G,{value:"en",children:"English"}),e.jsx(G,{value:"zh_cn",children:"中文"}),e.jsx(G,{value:"ru",children:"Русский"})]})]})}),de=""+new URL("wave-43a4b20c.svg",import.meta.url).href;function Ae(){return e.jsx("div",{className:"secretary_bg",children:e.jsxs("div",{className:"porthole",children:[[...Array(8).keys()].map(r=>e.jsx("div",{className:"porthole__rivet"},r)),e.jsx("div",{className:"sea_scene",children:e.jsx("img",{src:de,alt:"wave",draggable:!1})})]})})}const ge=""+new URL("lopunny-252a1372.svg",import.meta.url).href,me=""+new URL("lopunny-ed23b7c3.svg",import.meta.url).href,fe=""+new URL("meowscarada-b414bb30.svg",import.meta.url).href,he=""+new URL("meowscarada-8f30ae9e.svg",import.meta.url).href,pe=""+new URL("neco_arc-b9a98032.svg",import.meta.url).href,ve=""+new URL("vaporeon-0cf3d389.svg",import.meta.url).href,xe=""+new URL("neco_arc-a0645750.svg",import.meta.url).href,be=""+new URL("vaporeon-460baefb.svg",import.meta.url).href;const Y=[{icon:pe,name:"neco_arc",headImage:xe},{icon:ve,name:"vaporeon",headImage:be},{icon:ge,name:"lopunny",headImage:me},{icon:fe,name:"meowscarada",headImage:he}],Se=s.memo(s.forwardRef((r,t)=>{const a=s.useRef(!0),l=s.useRef(null),c=X(d=>d.setCharacter),g=E(d=>d.prevCharacter),i=s.useCallback(d=>{var S;return(S=Y.find(v=>v.name===d))==null?void 0:S.headImage},[]);return s.useImperativeHandle(t,()=>({getHeight(){return l.current?l.current.offsetHeight:0}}),[]),s.useEffect(()=>{if(!a.current)return;const d=i(g);d?c(g,d):c(Y[0].name,Y[0].headImage),a.current=!1},[g,c,i]),e.jsx("div",{className:"secretary_list",ref:l,children:Y.map((d,S)=>e.jsx("div",{className:"secretary_list__item",onClick:()=>c(d.name,d.headImage),children:e.jsx("img",{src:d.icon,alt:d.name})},S))})})),_e=""+new URL("body-81f9ffb4.svg",import.meta.url).href;function We(){const r=X(t=>t.headImage);return e.jsxs("div",{className:"secretary",style:{opacity:1},children:[e.jsx("div",{className:"secretary__head",children:e.jsx("img",{src:r,alt:"head",draggable:!1})}),e.jsx("div",{className:"secretary__body",children:e.jsx("img",{src:_e,alt:"body",draggable:!1})})]})}function $e(){return e.jsxs("div",{className:"secretary_main",children:[e.jsx(ue,{}),e.jsx(le,{}),e.jsx(We,{})]})}function Ye(){return e.jsxs("div",{className:"secretary_display",children:[e.jsx($e,{}),e.jsx(Ae,{})]})}function Ze(){const[r,t]=s.useState(!1),a=s.useRef(null);function l(){a.current&&(r?a.current.classList.remove("secretary_change_bar--extended"):a.current.classList.add("secretary_change_bar--extended"),t(!r))}return e.jsxs("div",{className:"secretary_change_bar",ref:a,children:[e.jsx(Se,{}),e.jsxs("div",{className:"secretary_change_bar__icon",onClick:l,children:[e.jsx("div",{children:e.jsx(B,{children:"arrow_back_ios_new"})}),e.jsx("div",{children:e.jsx(B,{children:"favorite"})})]})]})}function Xe(){return e.jsxs("div",{className:"secretary_scene",children:[e.jsx(Ye,{}),e.jsx(Ze,{})]})}function Ve({text:r}){const t=P(a=>a.regionList);return e.jsxs("div",{className:"selected_region_cnt",children:[e.jsx("div",{className:"selected_region_cnt__value",children:t.length}),e.jsx(Q,{text:r})]})}function Ge(){const r=T(a=>a.language),t=T(a=>a.uiTranslation);return e.jsxs("div",{className:"captain_console",children:[e.jsx(oe,{isWithLabel:!0,text:t?t.launch_cancel[r]:""}),e.jsx(Ve,{text:t?t.selected_region[r]:""}),e.jsx(ce,{isWithLabel:!0,text:t?t.launch_confirm[r]:""})]})}function Ke(){return e.jsxs("div",{className:"captain_cabin",children:[e.jsx(Xe,{}),e.jsx(Ge,{})]})}function qe({regionListLength:r}){return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:r>0?"console_wrapper console_wrapper__l":"console_wrapper console_wrapper__l console_wrapper--invisible",children:e.jsx(oe,{isWithLabel:!1})}),e.jsx("div",{className:r>0?"console_wrapper console_wrapper__r":"console_wrapper console_wrapper__r console_wrapper--invisible",children:e.jsx(ce,{isWithLabel:!1})})]})}function Je(){const r=X(t=>t.headImage);return e.jsxs("div",{className:"secretary_scene--mobile",children:[e.jsx("div",{className:"secretary__head--mobile",children:e.jsx("img",{src:r,alt:"head",draggable:!1})}),e.jsx(le,{})]})}const Qe=s.forwardRef((r,t)=>{const a=P(n=>n.regionList),[l,c]=s.useState(0),[g,i]=s.useState(0),[d,S]=s.useState(!1),[v,h]=s.useState("expanded"),[x,C]=s.useState(!1),m=s.useRef(null),b=s.useRef(null),w=s.useRef(null),N=s.useCallback(n=>{c(n),S(!1),m.current?m.current.style.bottom===""?i(parseInt(getComputedStyle(m.current).bottom)):i(parseInt(m.current.style.bottom)):i(0),m.current&&(m.current.style.transition="none"),C(!0)},[]),y=s.useCallback(n=>{if(x){if(m.current){const o=n-l;let p=0;m.current.style.bottom===""?p=parseInt(getComputedStyle(m.current).bottom):p=parseInt(m.current.style.bottom);const f=Math.max(Math.min(p-o,0),-1*(m.current.offsetHeight-(b.current?b.current.offsetHeight:0)));m.current.style.bottom=`${f}px`,i(f)}c(n)}},[l,x]),M=s.useCallback(()=>{if(!x)return;C(!1),m.current&&(m.current.style.removeProperty("bottom"),m.current.style.removeProperty("transition"));const n=.5,o=(m.current?m.current.offsetHeight:0)-(b.current?b.current.offsetHeight:0),p=w.current?w.current.getHeight():0,f=-1*g;f>=p*n&&f<(o-p)*n+p?(h("half_collapsed"),i(-1*p)):f>=(o-p)*n+p?(h("collapsed"),i(-1*o)):(h("expanded"),i(0)),c(0)},[x,g]),F=s.useCallback(()=>{S(!0)},[]),R=s.useCallback(n=>{n.preventDefault(),N(n.clientY)},[N]),u=s.useCallback(n=>{n.preventDefault(),y(n.clientY)},[y]),I=s.useCallback(n=>{n.preventDefault(),M()},[M]),O=s.useCallback(n=>{N(n.touches[0].clientY)},[N]),U=s.useCallback(n=>{y(n.touches[0].clientY)},[y]),D=s.useCallback(()=>{M()},[M]);return s.useImperativeHandle(t,()=>({onMouseUp(){M()},onMouseMove(n){d&&y(n)}}),[M,y,d]),e.jsxs("div",{className:`captain_cabin_mobile${v==="half_collapsed"?" captain_cabin_mobile--half-collapsed":v==="collapsed"?" captain_cabin_mobile--collapsed":""}`,ref:m,children:[e.jsx("div",{className:"captain_cabin_mobile__handle",onMouseDown:R,onMouseMove:u,onMouseUp:I,onMouseLeave:F,onTouchStart:O,onTouchMove:U,onTouchEnd:D,ref:b,children:e.jsx("div",{className:"captain_cabin_mobile__handle__icon"})}),e.jsx(qe,{regionListLength:a.length}),e.jsx(Je,{}),e.jsx(Se,{ref:w})]})}),Ce=H()(r=>({count:0,increase:t=>r(a=>({count:a.count+t}))}));De([Oe,Ue,He,ze]);const q=1,J=50,Le=5,ye=[37.6175,55.7519],et=68,tt={backgroundColor:"transparent",animationDelayUpdate:0,animationDurationUpdate:0,stateAnimation:{duration:0,delay:0,easing:void 0},geo:{show:!0,roam:!1,map:"world",selectedMode:"multiple",scaleLimit:{min:q,max:J},itemStyle:{areaColor:"#3c3171",borderColor:"#19102"},label:{color:"white"},emphasis:{label:{color:"#a49eb8",show:!0,textBorderWidth:2,textBorderColor:"#19102",fontSize:"1.25rem",fontFamily:"Consolas"},itemStyle:{areaColor:"#5babf8"}},select:{label:{color:"#a49eb8",show:!0,textBorderWidth:2,textBorderColor:"#19102",fontSize:"1.25rem",fontFamily:"Consolas"},itemStyle:{areaColor:"#e84981"}},center:ye,zoom:Le}},nt={width:"100%",height:"100%",border:"none",padding:"0",margin:"0"};function rt(r){let t=0;return r.forEach(a=>{switch(a){case"Russia":t+=_(0,1e4);break;case"United States":t+=_(50,25e3);break;case"China":t+=_(150,5e4);break;case"Japan":t+=_(5e3,7e4);break;case"Korea":t+=_(4e3,6e4);break;case"United Kingdom":t+=_(1e3,15e3);break;case"France":t+=_(1500,2e4);break;case"Italy":t+=_(2e3,25e3);break;case"Germany":t+=_(1200,18e3);break;case"Spain":t+=_(1100,16e3);break;case"Poland":t+=_(1300,17e3);break;case"Ethiopia":t+=_(800,8e3);break;case"Iran":t+=_(700,9e3);break;case"India":t+=_(8e3,1e5);break;case"Malaysia":t+=_(2e3,2e4);break;case"Australia":t+=_(10,9e3);break;case"Canada":t+=_(0,5e3);break;case"Mexico":t+=_(4e3,4e4);break;case"Brazil":t+=_(50,6e4);break;case"Argentina":t+=_(25,1e4);break;case"Greenland":t+=0;break;case"Venezuela":t+=666;break;default:t+=_(25,8e3);break}}),t}function re(r,t){return Math.sqrt(Math.pow(t.x-r.x,2)+Math.pow(t.y-r.y,2))}const st=s.memo(({style:r,settings:t,loading:a,theme:l})=>{const c=s.useRef(!1),g=s.useRef(!0),i=s.useRef(!0),d=s.useRef(5),S=s.useRef(5),v=s.useRef(0),h=s.useRef(null),x=s.useRef(null),C=P(n=>n.regionList),m=P(n=>n.setRegionList),b=P(n=>n.getRegionList),w=k(n=>n.launchSignal),N=k(n=>n.setLaunchSignal),y=k(n=>n.cancelSignal),M=k(n=>n.setCancelSignal),F=Ce(n=>n.increase),R=k(n=>n.relocateSignal),u=k(n=>n.setRelocateSignal),I=s.useCallback(n=>{if(n.targetTouches.length<2||!h.current||!g.current)return;const o=z(h.current),p=n.targetTouches[0],f=n.targetTouches[1],L={x:p.clientX,y:p.clientY},j={x:f.clientX,y:f.clientY},V={x:(L.x+j.x)/2,y:(L.y+j.y)/2},A=o.convertFromPixel({geoIndex:0},[o.getWidth()/2,o.getHeight()/2]),ee=o.convertFromPixel({geoIndex:0},[V.x,V.y]),W=re(L,j),$={x:ee[0]-A[0],y:ee[1]-A[1]};v.current===0&&(v.current=W),S.current=d.current,d.current=Math.min(Math.max(d.current*(W/v.current),q),J),Math.abs(W-v.current)>1e-6&&(o.setOption({geo:{zoom:d.current},center:[A[0]-($.x/(d.current/S.current)-$.x),A[1]-($.y/(d.current/S.current)-$.y)]},{lazyUpdate:!0,silent:!0}),g.current=!1,setTimeout(()=>{g.current=!0},et),c.current=!0),v.current=W},[]),O=s.useCallback(()=>{v.current=0,c.current=!1},[]),U=s.useCallback(n=>{if(n.preventDefault(),!h.current||!i.current)return;const o=n.deltaY<0?1.4:1/1.4,p=z(h.current),f=p.convertFromPixel({geoIndex:0},[p.getWidth()/2,p.getHeight()/2]),L=p.convertFromPixel({geoIndex:0},[n.offsetX,n.offsetY]),j={x:L[0]-f[0],y:L[1]-f[1]};S.current=d.current,d.current=Math.min(Math.max(d.current*o,q),J),p.setOption({geo:{zoom:d.current,center:[f[0]-(j.x/(d.current/S.current)-j.x),f[1]-(j.y/(d.current/S.current)-j.y)]}},{lazyUpdate:!0,silent:!0}),i.current=!1,setTimeout(()=>{i.current=!0},20)},[]),D=s.useCallback(n=>{if(!h.current||!x.current||c.current)return;const o=z(h.current),p=o.getOption().geo[0].center,f={x:Math.min(o.getWidth(),Math.max(0,n.offsetX)),y:Math.min(o.getHeight(),Math.max(0,n.offsetY))},L=o.convertFromPixel({geoIndex:0},[x.current.x,x.current.y]),j=o.convertFromPixel({geoIndex:0},[f.x,f.y]);re({x:f.x,y:f.y},{x:x.current.x,y:x.current.y})>1e-6&&o.setOption({geo:{center:[p[0]-(j[0]-L[0]),p[1]-(j[1]-L[1])]}},{lazyUpdate:!0,silent:!0}),x.current=f},[]);return s.useEffect(()=>{const n=h.current;let o=null;function p(){o==null||o.resize()}return n&&(o=Te(h.current,l),o.on("geoselectchanged",f=>{m(f.allSelected[0].name)}),o.on("mouseout",f=>{b().includes(f.name)&&(o==null||o.resize())}),o.getZr().on("mousemove",D),o.getZr().on("mousedown",f=>{x.current={x:f.offsetX,y:f.offsetY}}),o.getZr().on("mouseup",()=>{x.current=null}),n.addEventListener("touchmove",I),n.addEventListener("touchend",O),n.addEventListener("wheel",U),Pe("world",ke)),window.addEventListener("resize",p),()=>{var f,L,j;n==null||n.removeEventListener("touchmove",I),n==null||n.removeEventListener("touchend",O),n==null||n.removeEventListener("wheel",U),o==null||o.off("geoselectchanged"),(f=o==null?void 0:o.getZr())==null||f.off("mousemove"),(L=o==null?void 0:o.getZr())==null||L.off("mouseup"),(j=o==null?void 0:o.getZr())==null||j.off("mousedown"),o==null||o.dispose(),window.removeEventListener("resize",p)}},[l,m,b,I,O,U,D]),s.useEffect(()=>{if(!h.current)return;z(h.current).setOption(tt,t)},[t]),s.useEffect(()=>{if(!h.current)return;const n=z(h.current);a?n.showLoading():n.hideLoading()},[a]),s.useEffect(()=>{if(!h.current||!w&&!y)return;const n=z(h.current);w&&F(rt(C)),C.forEach(o=>{n.dispatchAction({type:"geoUnSelect",name:o})}),m([]),N(!1),M(!1)},[w,y,C,N,M,m,F]),s.useEffect(()=>{if(!R||!h.current)return;z(h.current).setOption({geo:{center:ye,zoom:Le}}),u(!1)},[R,u]),e.jsx("div",{ref:h,style:{...nt,...r}})}),je=""+new URL("mushroom_head-109ffdda.png",import.meta.url).href,Re=""+new URL("mushroom_root-bc03fce1.png",import.meta.url).href,we=""+new URL("death-2a4fedcb.svg",import.meta.url).href;const Me=3e3;function at(){const[r,t]=s.useState(0),[a,l]=s.useState(0),c=Ce(g=>g.count);return s.useEffect(()=>{if(c<=r)return;const g=2,i=50,d=Math.floor(Me/i/g),S=c-r,v=Math.floor(S/d),h=S%d;function x(C){if(C>=d){t(c);return}l(m=>m+v),setTimeout(()=>x(C+1),i)}l(C=>C+h),setTimeout(()=>x(0),i)},[c,r]),e.jsxs("div",{className:"death_cnt",children:[e.jsx("div",{className:"death_cnt__icon",children:e.jsx("img",{src:we,alt:"death",draggable:!1})}),e.jsx("div",{className:"death_cnt__value",children:a})]})}const ot=s.memo(()=>e.jsx("div",{className:"world_map__main",children:e.jsx(st,{})}));function ct(){return e.jsxs("div",{className:"explosion_scene",children:[e.jsx("img",{src:je,alt:"mushroom head"}),e.jsx("img",{src:Re,alt:"mushroom root"})]})}function it(){const r=k(a=>a.setRelocateSignal);function t(){r(!0)}return e.jsx("div",{className:"relocate_btn",onClick:t,children:e.jsx(B,{children:"zoom_out_map"})})}function lt(){const[r,t]=s.useState(e.jsx(e.Fragment,{})),a=k(c=>c.launchSignal),l=Z(c=>c.isSmallScreen);return s.useEffect(()=>{a&&(t(e.jsx(ct,{})),setTimeout(()=>{t(e.jsx(e.Fragment,{}))},Me))},[a]),e.jsxs("div",{className:"world_map",children:[e.jsx(at,{}),l&&e.jsx(ue,{}),e.jsx(it,{}),r,e.jsx(ot,{})]})}function ut(){return e.jsxs("div",{className:"loading_spinner",children:[e.jsx("div",{}),e.jsx("div",{}),e.jsx("div",{}),e.jsx("div",{}),e.jsx("div",{}),e.jsx("div",{}),e.jsx("div",{}),e.jsx("div",{})]})}function dt(){const[r,t]=s.useState(!0),a=T(v=>v.setLanguage),l=T(v=>v.setUiTranslation),c=T(v=>v.setDialogue),g=Z(v=>v.isSmallScreen),i=Z(v=>v.setIsSmallScreen),d=s.useRef(null),S=s.useCallback(async v=>{const h=v.map(x=>new Promise((C,m)=>{const b=new Image;b.src=x,b.onload=C,b.onerror=m}));await Promise.all(h),t(!1)},[]);return s.useEffect(()=>{r&&(l(Be),c(Fe),a("zh_cn"),S([se,we,ae,ge,me,je,Re,fe,he,pe,xe,_e,ve,be,de]).catch(console.error))},[r,a,l,c,S]),s.useEffect(()=>{const h=()=>{i(document.body.clientWidth<=640),document.documentElement.style.setProperty("--vh",`${window.innerHeight*.01}px`)},x=()=>{var m;(m=d.current)==null||m.onMouseUp()},C=function(m){var b;(b=d.current)==null||b.onMouseMove(m.clientY)};return i(document.body.clientWidth<=640),document.documentElement.style.setProperty("--vh",`${window.innerHeight*.01}px`),window.addEventListener("resize",h),window.addEventListener("mouseup",x),window.addEventListener("mousemove",C),()=>{window.removeEventListener("resize",h),window.removeEventListener("mouseup",x),window.removeEventListener("mousemove",C)}},[i]),r?e.jsx(ut,{}):e.jsxs(s.StrictMode,{children:[!g&&e.jsx(Ke,{}),e.jsx(lt,{}),g&&e.jsx(Qe,{ref:d})]})}K.createRoot(document.getElementById("root")).render(e.jsx(Ee.StrictMode,{children:e.jsx(dt,{})}));
